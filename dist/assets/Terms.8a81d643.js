import{_ as O,e as G,a as P,b as S,c as C,f as $,M as y,g as k,r as R,h as X,i as q,j as z,l as H,s as J}from"./Navbar.vue_vue_type_script_setup_true_lang.262f34dc.js";import{a as f}from"./axios.f2a602b3.js";import{d as K,u as Q,r as o,i as W,o as Y,c as T,a as l,w as s,b as a,F as I,e as p,g as v,j as U,I as Z,E as V,f as _}from"./index.13e0a12b.js";const ee={key:0},ae=_("br",null,null,-1),le={class:"my-4"},te={class:"my-4"},se={class:"my-4"},re=K({__name:"Terms",setup(ue){Q();const w=o("collapseOne"),h=o([]),i=o(!1),n=o(""),d=o(""),r=o(""),m=o({edited:!1,value:-1}),c=o(""),N=W(()=>!(n.value.trim()===""||d.value.trim()===""||r.value.trim()==="")),M=()=>{n.value="",d.value="",r.value="",m.value={edited:!1,value:-1}},L=async()=>{!N.value||(m.value.edited?F(m.value.value,n.value,d.value,r.value):D(n.value,d.value,r.value),M(),i.value=!1)},A=u=>{n.value=u.chapterNumber,d.value=u.title,r.value=u.description,m.value={edited:!0,value:u._id},i.value=!0},b=()=>{f.get(`${c.value}terms`).then(u=>h.value=u.data)},g=o(""),B=()=>{const u=g.value;f.get(`${c.value}terms`,{params:{search:u}}).then(t=>h.value=t.data)},D=(u,t,e)=>{const x={chapterNumber:u,title:t,description:e};f.post(`${c.value}terms`,x).then(()=>{b()})},E=u=>{f.delete(`${c.value}terms/${u}`).then(()=>{b()})},F=(u,t,e,x)=>{const j={chapterNumber:t,title:e,description:x};f.put(`${c.value}terms/${u}`,j).then(()=>{b()})};return Y(()=>{c.value="https://textbookai-backend.mdbgo.io:3000/",b()}),(u,t)=>(p(),T(I,null,[l(a(O),{class:"mt-5"},{default:s(()=>[l(P),l(a(S),{class:"pt-5 pb-4"},{default:s(()=>[l(a(C),{class:"text-start"},{default:s(()=>[l(a($),{color:"secondary",onClick:t[0]||(t[0]=e=>i.value=!0)},{default:s(()=>[v("Add Term")]),_:1})]),_:1}),l(a(C),{md:"4"},{default:s(()=>[l(a(y),{inputGroup:"",formOutline:!1,wrapperClass:"mb-3",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),placeholder:"Search terms, e.g. 'chapter 1', 'Calvinism', ...","aria-label":"Search"},{default:s(()=>[l(a($),{color:"primary",onClick:B},{default:s(()=>[l(a(k),{icon:"search"})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(a(S),{class:"pt-5"},{default:s(()=>[l(a(C),{class:"text-center"},{default:s(()=>[h.value.length===0?(p(),T("div",ee," Nothing to display. Add a few terms. ")):(p(),U(a(R),{key:1,modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=e=>w.value=e),borderless:"",flush:""},{default:s(()=>[(p(!0),T(I,null,Z(h.value,e=>(p(),U(a(J),{icon:"fas fa-highlighter fa-sm me-2 opacity-70",headerTitle:e.title,collapseId:e.title},{default:s(()=>[v(V(e.description)+" ",1),l(a(k),{class:"text-primary me-3",title:"edit",icon:"pen",style:{cursor:"pointer"},onClick:()=>A(e)},null,8,["onClick"]),l(a(k),{class:"text-danger",title:"delete",icon:"trash",style:{cursor:"pointer"},onClick:()=>E(e._id)},null,8,["onClick"]),ae,v(" - From Chapter "+V(e.chapterNumber),1)]),_:2},1032,["headerTitle","collapseId"]))),256))]),_:1},8,["modelValue"]))]),_:1})]),_:1})]),_:1}),l(a(G),{id:"addNewTermrModal",tabindex:"-1",labelledby:"addNewTermModalLabel",modelValue:i.value,"onUpdate:modelValue":t[7]||(t[7]=e=>i.value=e)},{default:s(()=>[l(a(X),null,{default:s(()=>[l(a(q),{id:"exampleModalLabel"},{default:s(()=>[v(V(m.value.edited?"Edit term":"Add term"),1)]),_:1})]),_:1}),l(a(z),null,{default:s(()=>[_("form",null,[_("div",le,[l(a(y),{label:"chapter_number",type:"text",modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=e=>n.value=e),counter:"",maxlength:2},null,8,["modelValue"])]),_("div",te,[l(a(y),{label:"title",type:"text",modelValue:d.value,"onUpdate:modelValue":t[4]||(t[4]=e=>d.value=e),counter:"",maxlength:255},null,8,["modelValue"])]),_("div",se,[l(a(y),{label:"description",type:"text",modelValue:r.value,"onUpdate:modelValue":t[5]||(t[5]=e=>r.value=e)},null,8,["modelValue"])])])]),_:1}),l(a(H),null,{default:s(()=>[l(a($),{color:"secondary",onClick:t[6]||(t[6]=e=>{M(),i.value=!1})},{default:s(()=>[v("Close")]),_:1}),l(a($),{color:"primary",onClick:L,disabled:!N.value},{default:s(()=>[v(V(m.value.edited?"Save changes":"Add Term"),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["modelValue"])],64))}});export{re as default};
