import{_ as v,h as S,a as T,c as s,b as i,i as g,j as h,k as C,l as V,n as M}from"./Navbar.vue_vue_type_script_setup_true_lang.ee11c150.js";import{d as w,u as L,r as f,o as B,c as F,a as t,w as a,b as e,j as p,q as j,F as A,e as y,g as o,E as d,Q as E,f as u}from"./index.d010bbe1.js";import{a as $}from"./axios.f2a602b3.js";const H=u("strong",null,"Chapter Number:",-1),I=u("strong",null,"Section Number:",-1),U=u("strong",null,"Section Title:",-1),q=u("strong",null,"Section Summary:",-1),D=u("strong",null,"Section Text:",-1),G=["innerHTML"],z=w({__name:"Section",setup(P){const b=L();f();const r=f(!1),n=f(),_=f(""),x=f(""),k=m=>{$.get(`${_.value}sections/${m}`).then(l=>n.value=l.data)},N=m=>{const l={section_id:m};$.post(`${_.value}openai/generateNote`,l).then(c=>{x.value=c.data})};return B(()=>{_.value="https://textbookai-backend-2ffe066fb0f8.herokuapp.com/",k(b.current_section_id)}),(m,l)=>(y(),F(A,null,[t(e(v),{class:"mt-5"},{default:a(()=>[t(T)]),_:1}),n.value&&n.value.sectionTitle?(y(),p(e(v),{key:0},{default:a(()=>[t(e(i),{class:"gy-5 mt-1 text-center"},{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-center"},{default:a(()=>[H]),_:1}),t(e(s),{md:"8",class:"d-flex justify-content-start align-items-center"},{default:a(()=>[o(d(n.value.chapterNumber),1)]),_:1})]),_:1}),t(e(i),{class:"mt-1 text-center"},{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-center"},{default:a(()=>[I]),_:1}),t(e(s),{md:"8",class:"d-flex justify-content-start align-items-center"},{default:a(()=>[o(d(n.value.sectionNumber),1)]),_:1})]),_:1}),t(e(i),{class:"mt-1 text-center"},{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-center"},{default:a(()=>[U]),_:1}),t(e(s),{md:"8",class:"d-flex justify-content-start align-items-center"},{default:a(()=>[o(d(n.value.sectionTitle),1)]),_:1})]),_:1}),t(e(i),{class:"mt-1 text-center"},{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-start"},{default:a(()=>[q]),_:1}),t(e(s),{md:"8",class:"d-flex justify-content-start align-items-start"},{default:a(()=>[o(d(n.value.sectionSummary),1)]),_:1})]),_:1}),t(e(i),{class:"mt-1 text-center"},{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-start"},{default:a(()=>[D]),_:1}),t(e(s),{md:"8",class:"d-flex justify-content-start align-items-start"},{default:a(()=>[t(e(E),{text:n.value.sectionText,"max-lines":5},null,8,["text"])]),_:1})]),_:1}),t(e(i),null,{default:a(()=>[t(e(s),{md:"2",class:"d-flex justify-content-end align-items-center"}),t(e(s),{md:"8",class:"d-flex justify-content-end align-items-center"},{default:a(()=>[t(e(g),{color:"secondary",onClick:l[0]||(l[0]=c=>r.value=!0)},{default:a(()=>[o("View all "+d(n.value.sectionText.split(" ").length)+" words",1)]),_:1})]),_:1})]),_:1}),t(e(i),null,{default:a(()=>[t(e(s),{md:"4",class:"d-flex justify-content-start align-items-center"},{default:a(()=>[t(e(g),{color:"secondary",onClick:l[1]||(l[1]=c=>N(n.value._id)),class:"me-5"},{default:a(()=>[o(" Generate Note with AI ")]),_:1})]),_:1}),t(e(s),{md:"6",class:"d-flex justify-content-start align-items-center mt-2"})]),_:1}),x.value?(y(),p(e(i),{key:0,class:"mt-3"},{default:a(()=>[t(e(s),{md:"10",class:"d-flex justify-content-end align-items-center"},{default:a(()=>[u("div",{innerHTML:x.value},null,8,G)]),_:1})]),_:1})):j("",!0)]),_:1})):j("",!0),t(e(S),{id:"textModal",tabindex:"-1",labelledby:"textModalLabel",modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=c=>r.value=c)},{default:a(()=>[t(e(h),null,{default:a(()=>[t(e(C),{id:"textModalLabel"},{default:a(()=>[o(" Section Full Text ")]),_:1})]),_:1}),t(e(V),null,{default:a(()=>[o(d(n.value.sectionText),1)]),_:1}),t(e(M),null,{default:a(()=>[t(e(g),{color:"secondary",onClick:l[2]||(l[2]=c=>{r.value=!1})},{default:a(()=>[o("Close")]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{z as default};
